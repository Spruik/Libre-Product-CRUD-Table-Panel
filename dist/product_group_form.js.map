{"version":3,"sources":["../src/product_group_form.js"],"names":["utils","apis","addPreprocess","scope","productGroupFormModal","groupName","action","onSubmit","addProductGroup","successCallBack","failCallBack","e","updatePreprocess","toBeUpdated","productGroups","onUpdate","alert","confirmModal","confirmMsg","onConfirm","updateProductGroup","showModal","removePreprocess","toBeRemoved","onRemove","removeProductGroup","showAddProductGroupFormModal","showUpdateProductGroupFormModal","showRemoveProductGroupFormModal"],"mappings":"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","file":"product_group_form.js","sourcesContent":["import * as utils from './utils'\nimport * as apis from './apis'\n\nconst addPreprocess = scope => {\n\n  scope.productGroupFormModal = {\n    groupName: \"\",\n    action: 'add'\n  }\n\n  scope.productGroupFormModal.onSubmit = () => {\n    apis.addProductGroup(\n      scope.productGroupFormModal.groupName,\n      utils.successCallBack('pct-product-group-form-cancelBtn', 'Brand Product Line Has Been Added Successfully', scope),\n      e => utils.failCallBack('pct-product-group-form-cancelBtn', `An Error Occurr While Adding The Brand Product Line Due To ${e}`)\n    )\n  }\n}\n\nconst updatePreprocess = scope => {\n\n  scope.productGroupFormModal = {\n    groupName: \"\",\n    action: 'update',\n    toBeUpdated: scope.productGroups[0] || \"\"\n  }\n\n  scope.productGroupFormModal.onUpdate = () => {\n    const toBeUpdated = scope.productGroupFormModal.toBeUpdated\n    const groupName = scope.productGroupFormModal.groupName\n    if (groupName === \"\") {\n      utils.alert('warning', 'Warning', 'The new group name cannot be empty')\n    }else if(toBeUpdated === groupName){\n      utils.alert('warning', 'Warning', 'The new group name is the same with the original one')\n    }else {\n      //Validation OK!\n      scope.confirmModal = {\n        confirmMsg: \"Please note that after changing the name of this brand product line, all its children's brand product line name will also be changed\",\n        onConfirm: () => {\n          apis.updateProductGroup(\n            scope,\n            toBeUpdated, \n            groupName,\n            utils.successCallBack('pct-confirm-modal-cancelBtn', 'Brand Product Line Has Been Updated Successfully', scope),\n            e => utils.failCallBack('pct-confirm-modal-cancelBtn', `An Error Occurr While Updating The Brand Product Line Due To ${e}`)\n          )\n        }\n      }\n      utils.showModal('confirm_modal.html', scope)\n    }\n  }\n}\n\nconst removePreprocess = scope => {\n\n  scope.productGroupFormModal = {\n    action: 'remove',\n    toBeRemoved: scope.productGroups[0] || \"\"\n  }\n\n  scope.productGroupFormModal.onRemove = () => {\n    const toBeRemoved = scope.productGroupFormModal.toBeRemoved\n    scope.confirmModal = {\n      confirmMsg: \"Please note that after removing this brand product line, all its children will also be removed\",\n      onConfirm: () => {\n        apis.removeProductGroup(\n          toBeRemoved, \n          utils.successCallBack('pct-confirm-modal-cancelBtn', 'Brand Produt Line Has Been Removed Successfully', scope),\n          e => utils.failCallBack('pct-confirm-modal-cancelBtn', `An Error Occurr While Removing The Brand Product Line Due To ${e}`)\n        )\n      }\n    }\n    utils.showModal('confirm_modal.html', scope)\n  }\n}\n\nexport const showAddProductGroupFormModal = scope => {\n  addPreprocess(scope)\n  utils.showModal('product_group_form.html', scope)\n}\n\nexport const showUpdateProductGroupFormModal = scope => {\n  updatePreprocess(scope)\n  utils.showModal('product_group_form.html', scope)\n}\n\nexport const showRemoveProductGroupFormModal = scope => {\n  removePreprocess(scope)\n  utils.showModal('product_group_form.html', scope)\n}"]}