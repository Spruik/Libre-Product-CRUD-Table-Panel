{"version":3,"sources":["../src/datalist.js"],"names":["DataList","containerId","inputId","listId","options","filter","list","document","getElementById","filterOptions","d","text","toLowerCase","replace","includes","length","classList","remove","add","innerHTML","map","o","value","join","datalist","container","input","addEventListener","e","target","id","toggle","focus","contains","create","nodeName","toLocaleLowerCase","innerText","removeEventListener"],"mappings":"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","file":"datalist.js","sourcesContent":["export class DataList {\n\n\tconstructor(containerId, inputId, listId, options) {\n\t\tthis.containerId = containerId;\n\t\tthis.inputId = inputId;\n\t\tthis.listId = listId;\n\t\tthis.options = options;\n\t}\n\n\tcreate(filter = \"\") {\n        const list = document.getElementById(this.listId);\n\t\tconst filterOptions = this.options.filter(\n\t\t\td => filter === \"\" || d.text.toLowerCase().replace(/ /g,'').includes(filter.toLowerCase().replace(/ /g,''))\n\t\t);\n\n\t\tif (filterOptions.length === 0) {\n\t\t\tlist.classList.remove(\"active\");\n\t\t} else {\n\t\t\tlist.classList.add(\"active\");\n\t\t}\n\n\t\tlist.innerHTML = filterOptions\n\t\t\t.map(o => `<li id=${o.value}>${o.text}</li>`)\n\t\t\t.join(\"\");\n\t}\n\n\taddListeners(datalist) {\n\t\tconst container = document.getElementById(this.containerId);\n\t\tconst input = document.getElementById(this.inputId);\n        const list = document.getElementById(this.listId);\n        \n\t\tcontainer.addEventListener(\"click\", e => {\n\t\t\tif (e.target.id === this.inputId) {\n\t\t\t\tcontainer.classList.toggle(\"active\");\n\t\t\t} else if (e.target.id === \"datalist-icon\") {\n\t\t\t\tcontainer.classList.toggle(\"active\");\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t});\n\n\t\tinput.addEventListener(\"input\", function(e) {\n\t\t\tif (!container.classList.contains(\"active\")) {\n\t\t\t\tcontainer.classList.add(\"active\");\n\t\t\t}\n\t\t\tdatalist.create(input.value);\n\t\t});\n\n\t\tlist.addEventListener(\"click\", function(e) {\n\t\t\tif (e.target.nodeName.toLocaleLowerCase() === \"li\") {\n\t\t\t\tinput.value = e.target.innerText;\n\t\t\t\tcontainer.classList.remove(\"active\");\n\t\t\t}\n\t\t});\n    }\n    \n    removeListeners() {\n\t\tconst container = document.getElementById(this.containerId);\n\t\tconst input = document.getElementById(this.inputId);\n        const list = document.getElementById(this.listId);\n\n        container.removeEventListener(\"click\", e => {\n\t\t\tif (e.target.id === this.inputId) {\n\t\t\t\tcontainer.classList.toggle(\"active\");\n\t\t\t} else if (e.target.id === \"datalist-icon\") {\n\t\t\t\tcontainer.classList.toggle(\"active\");\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t});\n        \n        input.removeEventListener(\"input\", function(e) {\n\t\t\tif (!container.classList.contains(\"active\")) {\n\t\t\t\tcontainer.classList.add(\"active\");\n\t\t\t}\n\t\t\tdatalist.create(input.value);\n\t\t});\n        \n\t\tlist.removeEventListener(\"click\", function(e) {\n\t\t\tif (e.target.nodeName.toLocaleLowerCase() === \"li\") {\n\t\t\t\tinput.value = e.target.innerText;\n\t\t\t\tcontainer.classList.remove(\"active\");\n\t\t\t}\n\t\t});\n    }\n}"]}